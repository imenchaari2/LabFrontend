<div fxLayoutAlign="space-between center">
    <div>
        <h2 class="green-300-fg">{{dialogTitle}}</h2>
    </div>
    <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog">
        <mat-icon>close</mat-icon>
    </button>
</div>
<div fxLayout="row wrap">
    <div
            fxFlex="100"
            fxFlex.gt-sm="99.99"
            fxFlex.sm="99.99"
            class="p-16 "
    >

                <form enctype="multipart/form-data" [formGroup]="basicForm">
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="33.33" class="pr-16">
                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>FirstName</mat-label>
                                    <input
                                            matInput
                                            name="firstName"
                                            formControlName="firstName"
                                            placeholder="First name"
                                            value="">
                                </mat-form-field>
                                <small
                                        *ngIf="basicForm.get('firstName').hasError('required') && basicForm.get('firstName').touched"
                                        class="form-error-msg"> First name is required </small>
                            </div>
                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Lastname</mat-label>
                                    <input
                                            matInput
                                            name="lastName"
                                            formControlName="lastName"
                                            placeholder="Last name"
                                            value="">
                                </mat-form-field>
                                <small
                                        *ngIf="basicForm.controls['lastName'].hasError('required') && basicForm.controls['lastName'].touched"
                                        class="form-error-msg"> Last name is required </small>
                            </div>
                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Date of birth</mat-label>
                                    <input
                                            matInput
                                            name="Birth date"
                                            formControlName="birthDate"
                                            placeholder="date of birth"
                                            [matDatepicker]="appDatepicker"
                                            >
                                    <mat-datepicker-toggle matSuffix [for]="appDatepicker"></mat-datepicker-toggle>
                                </mat-form-field>
                                <mat-datepicker #appDatepicker></mat-datepicker>
                            </div>

                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-select placeholder="type"
                                                name="type"
                                                formControlName="type"
                                    >
                                        <mat-option *ngFor="let t of types" [value]="t.type">
                                            {{ t.type }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="33.33" class="pr-16">
                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Email</mat-label>
                                    <input
                                            matInput
                                            type="email"
                                            formControlName="email"
                                            placeholder="Your Email"
                                            class="form-control" required>
                                </mat-form-field>
                                <small
                                        *ngIf="basicForm.controls['email'].hasError('required') && basicForm.controls['email'].touched"
                                        class="form-error-msg"> Email is required </small>
                                <small
                                        *ngIf="basicForm.controls['email'].hasError('email') && basicForm.controls['email'].touched"
                                        class="form-error-msg"> Invaild email address </small>
                            </div>

                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Cin</mat-label>
                                    <input
                                            matInput
                                            name="cin"
                                            formControlName="cin"
                                            placeholder="Cin card number"
                                            type="number"
                                            oninput="if (this.value.length > 8) this.value = this.value.slice(0, 8);">
                                </mat-form-field>
                                <small
                                        *ngIf="basicForm.controls['cin'].hasError('cin') && basicForm.controls['cin'].touched && basicForm.value.cin<0 && basicForm.value.cin.length<8"
                                        class="form-error-msg"> Invaild cin card number </small>
                            </div>
                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>diploma</mat-label>
                                    <input
                                            matInput
                                            name="diploma"
                                            formControlName="diploma"
                                            placeholder="diploma"
                                            value=""
                                    >
                                </mat-form-field>
                                <small
                                        *ngIf="basicForm.controls['diploma'].hasError('required') && basicForm.controls['diploma'].touched"
                                        class="form-error-msg"> diploma is required </small>
                            </div>
                            <div class="mb-16">
                                <p>Upload a cv</p>
                                <input
                                        type="file"
                                        (change)="selectCVFile($event)"
                                >
                            </div>


                        </div>


                        <div fxFlex="100" fxFlex.gt-xs="33.33" class="pr-16">
                            <div>
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Inscription Date</mat-label>
                                    <input
                                            matInput
                                            name="inscriptionDate"
                                            formControlName="inscriptionDate"
                                            placeholder="inscription Date"
                                            [matDatepicker]="appDatepicker1"
                                    >
                                    <mat-datepicker-toggle matSuffix [for]="appDatepicker1"></mat-datepicker-toggle>
                                </mat-form-field>
                                <mat-datepicker #appDatepicker1></mat-datepicker>
                            </div>
                            <div >
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Password</mat-label>
                                    <input
                                            [type]="show ? 'text' : 'password'"
                                            name="password"
                                            matInput
                                            formControlName="password"
                                            placeholder="Password"
                                            [value]=""
                                          >

                                    <mat-icon matSuffix color="primary" class="mr-8"
                                              (click)="password()">{{show ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </mat-form-field>

                                <small
                                        *ngIf="basicForm.controls['password'].hasError('required') && basicForm.controls['password'].touched "
                                        class="form-error-msg"> Password is required </small>
                            </div>
                            <div >
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Confirm password</mat-label>
                                    <input
                                            name="confirmPassword"
                                            matInput
                                            appequalvalidator=""
                                            formControlName="confirmPassword"
                                            placeholder="Confirm Password"
                                            value=""
                                            [type]="show ? 'text' : 'password'">
                                    <mat-icon matSuffix color="primary" class="mr-8"
                                              (click)="password()">{{show ? 'visibility_off' : 'visibility'}}</mat-icon>

                                </mat-form-field>
                                <small
                                        *ngIf="basicForm.controls['confirmPassword'].hasError('equalTo') && basicForm.controls['confirmPassword'].touched"
                                        class="form-error-msg"> Password mismatch </small>

                            </div>
                            <div class="mb-16">
                                <p>Upload a profile picture</p>
                                <input
                                        type="file"
                                        (change)="selectPhotoFile($event)"
                                >
                            </div>





                        </div>
                    </div>
                </form>

    </div>
</div>


<div style="margin-top:10px ">
    <span fxFlex></span>
    <button mat-stroked-button
            color="warn" type="button"
            (click)="dialogRef.close({action: 'save', member: basicForm.value, cv: selectedCvFile,photo: selectedPhotoFile})"
            [disabled]="basicForm.invalid"
    >{{buttonTitle}}</button>
</div>
